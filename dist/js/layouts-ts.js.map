{"version":3,"sources":["l-header.ts"],"names":["LolitaFramework","Layouts","Header","_super","blockName","_this","this","call","logo","block","find","mainMenu","search","mbSearch","mbMenu","jQuery","on","openSearch","closeSearch","__extends","prototype","hide","show","MediaBreakpoints","currentDeviceType","name","onBreakpointChange","breakpoint","each","index","item","curentItem","length","searchButton","Blocks","searchClick","append","menuButton","menuClick","remove","header"],"mappings":"yMAGUA,iBAAV,SAAUA,GAAgB,GAAAC,IAAA,SAAAA,GACzB,GAAAC,GAAA,SAAAC,GAoCC,QAAAD,GAAYE,GApCb,GAAAC,GAAAC,IAqCEH,GAAAI,KAAAD,KAAMF,GACNE,KAAKE,KAAWF,KAAKG,MAAMC,KAAK,8BAChCJ,KAAKK,SAAWL,KAAKG,MAAMC,KAAK,mCAChCJ,KAAKM,OAAWN,KAAKG,MAAMC,KAAK,gCAChCJ,KAAKO,SAAaP,KAAKG,MAAMC,KAAK,6BAClCJ,KAAKQ,OAAWR,KAAKG,MAAMC,KAAK,2BAEhCK,OAAO,QAAQC,GAAG,mCAAoC,WAAQX,EAAKY,eACnEF,OAAO,QAAQC,GAAG,yBAA0B,WAAQX,EAAKa,gBAoE3D,MAjH4BC,WAAAjB,EAAAC,GAmDpBD,EAAAkB,UAAAH,WAAP,WACCX,KAAKE,KAAKa,OACVf,KAAKK,SAASU,OACdf,KAAKO,SAASQ,OACdf,KAAKQ,OAAOO,OACZf,KAAKM,OAAOU,QAMNpB,EAAAkB,UAAAF,YAAP,WACgE,MAA3DlB,EAAgBuB,iBAAiBC,kBAAkBC,MACK,MAA3DzB,EAAgBuB,iBAAiBC,kBAAkBC,MACnDnB,KAAKE,KAAKc,OACVhB,KAAKO,SAASS,OACdhB,KAAKQ,OAAOQ,OACZhB,KAAKM,OAAOS,SAEZf,KAAKE,KAAKc,OACVhB,KAAKK,SAASW,OACdhB,KAAKO,SAASQ,OACdf,KAAKQ,OAAOO,OACZf,KAAKM,OAAOS,SAQEnB,EAAAkB,UAAAM,mBAAV,SAA6BC,GACF,MAAnBA,EAAWF,MAAmC,MAAnBE,EAAWF,KACtCnB,KAAKG,MAAMmB,KACP,SAACC,EAAOC,GACJ,GAAIC,GAAahB,OAAOe,GAAMpB,KAAK,iBAEnC,KAAKqB,EAAWrB,KAAK,6BAA6BsB,OAAQ,CACtD,GAAIC,GAAelB,OAAO,uDAC1BkB,GAAajB,GAAG,QAAS,WAAQhB,EAAgBkC,OAAOvB,SAASwB,gBACjEJ,EAAWK,OAAOH,GAItB,IAAKF,EAAWrB,KAAK,2BAA2BsB,OAAQ,CACpD,GAAIK,GAAatB,OAAO,mDACxBsB,GAAWrB,GAAG,QAAS,WAAQhB,EAAgBkC,OAAOvB,SAAS2B,cAC/DP,EAAWK,OAAOC,MAM9B/B,KAAKG,MAAMmB,KACP,SAACC,EAAOC,GACJ,GAAIC,GAAahB,OAAOe,EACxBC,GAAWrB,KAAK,6BAA6B6B,SAC7CR,EAAWrB,KAAK,2BAA2B6B,YAKlErC,GAjH4BF,EAAgBuB,iBAA/BtB,GAAAC,OAAMA,EAmHRD,EAAAuC,OAAS,GAAItC,GAAO,cApHND,EAAAD,EAAAC,UAAAD,EAAAC,cAAhBD,kBAAAA","file":"layouts-ts.js","sourcesContent":["/// <reference path='../../../general/def/jquery.d.ts' />\n/// <reference path='../../../general/ts/core.ts' />\n\nnamespace LolitaFramework.Layouts {\n\texport class Header extends LolitaFramework.MediaBreakpoints {\n\t\t\n\t\t/**\n\t\t * Logo object\n\t\t * @type {JQuery}\n\t\t */\n\t\tprivate logo: JQuery;\n\n\t\t/**\n\t\t * Main menu object\n\t\t * @type {JQuery}\n\t\t */\n\t\tprivate mainMenu: JQuery;\n\t\t\n\t\t/**\n\t\t * Search panel object\n\t\t * @type {JQuery}\n\t\t */\n\t\tprivate search: JQuery;\n\n\t\t/**\n\t\t * Search panel object\n\t\t * @type {JQuery}\n\t\t */\n\t\t\n\t\tprivate mbSearch: JQuery;\n\t\t/**\n\t\t * Search panel object\n\t\t * @type {JQuery}\n\t\t */\n\t\tprivate mbMenu: JQuery;\n\n\t\t/**\n\t\t * Constructor\n\t\t * @param {string} blockName - name of the block\n\t\t */\n\t\tconstructor(blockName: string) {\n\t\t\tsuper(blockName);\n\t\t\tthis.logo     = this.block.find('.b-logo.l-header__top-item');\n\t\t\tthis.mainMenu = this.block.find('.b-main-menu.l-header__top-item');\n\t\t\tthis.search   = this.block.find('.b-search.l-header__top-item');\n\t\t\tthis.mbSearch   = this.block.find('.l-header__top__mb-search');\n\t\t\tthis.mbMenu   = this.block.find('.l-header__top__mb-menu');\n\n\t\t\tjQuery('body').on('b-main-menu__link--search::click', () => { this.openSearch() });\n\t\t\tjQuery('body').on('b-search__close::click', () => { this.closeSearch() });\n\t\t}\n\n\t\t/**\n\t\t * Open Search panel\n\t\t */\n\t\tpublic openSearch() {\n\t\t\tthis.logo.hide();\n\t\t\tthis.mainMenu.hide();\n\t\t\tthis.mbSearch.hide();\n\t\t\tthis.mbMenu.hide();\n\t\t\tthis.search.show();\n\t\t}\n\n\t\t/**\n\t\t * Close Search panel\n\t\t */\n\t\tpublic closeSearch() {\n\t\t\tif (LolitaFramework.MediaBreakpoints.currentDeviceType.name == 'sm' ||\n\t\t\t\tLolitaFramework.MediaBreakpoints.currentDeviceType.name == 'md') {\n\t\t\t\tthis.logo.show();\n\t\t\t\tthis.mbSearch.show();\n\t\t\t\tthis.mbMenu.show();\n\t\t\t\tthis.search.hide();\n\t\t\t} else {\n\t\t\t\tthis.logo.show();\n\t\t\t\tthis.mainMenu.show();\n\t\t\t\tthis.mbSearch.hide();\n\t\t\t\tthis.mbMenu.hide();\n\t\t\t\tthis.search.hide();\n\t\t\t}\n\t\t}\n\n        /**\n         * Add buttons for mobiles and tablets\n         * @param {Breakpoint} breakpoint [description]\n         */\n        protected onBreakpointChange(breakpoint: Breakpoint) {\n            if (breakpoint.name == 'sm' || breakpoint.name == 'md') {\n                this.block.each(\n                    (index, item) => {\n                        let curentItem = jQuery(item).find('.l-header__top');\n\n                        if (!curentItem.find('.l-header__top__mb-search').length) {\n                            let searchButton = jQuery('<span class=\"l-header__top__mb-search\">Search</span>');\n                            searchButton.on('click', () => { LolitaFramework.Blocks.mainMenu.searchClick() });\n                            curentItem.append(searchButton);\n                        }\n                        \n                        \n                        if (!curentItem.find('.l-header__top__mb-menu').length) {\n                            let menuButton = jQuery('<span class=\"l-header__top__mb-menu\">Menu</span>');\n                            menuButton.on('click', () => { LolitaFramework.Blocks.mainMenu.menuClick() });\n                            curentItem.append(menuButton);\n                        }\n                        \n                    }\n                );\n            } else {\n                this.block.each(\n                    (index, item) => {\n                        let curentItem = jQuery(item);\n                        curentItem.find('.l-header__top__mb-search').remove();\n                        curentItem.find('.l-header__top__mb-menu').remove();\n                    }\n                );\n            }\n        }\n\t}\n\n\texport let header = new Header('.l-header');\n}"],"sourceRoot":"/source/"}